<mat-card class="generate-docs-card">
  <ng-container *ngIf="isLoading">
    <div class="loading-indicator">
      <mat-spinner></mat-spinner>
    </div>
  </ng-container>
  <mat-card-header>
    <mat-card-title class="form-card-title">Document Generator</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div  class="content-wrapper">
      <form [formGroup]="generateDocsForm" *ngIf="filterOptions" >
        <div class="generate-docs-form">
          <div class="mat-form-field flow">
            <mat-form-field appearance="outline">
              <mat-label>Select Flow</mat-label>
              <mat-select [placeholder]="'Select Flow'" formControlName="flow">
                <mat-option *ngFor="let flow of filterOptions.flows" [value]="flow">
                  {{flow.flowName}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="mat-form-field documentation-options">
            <mat-form-field appearance="outline">
              <mat-label>Documentation Type</mat-label>
              <mat-select [placeholder]="'Select documentation type'" formControlName="documentationType">
                <mat-option *ngFor="let type of filterOptions.documentationOptions" [value]="type">
                  {{type}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
            <button type="submit" (click)="generateDocumentation()" class="register-flow-btn" mat-flat-button
                    color="primary">
              <mat-icon>app_registration</mat-icon>
              GENERATE
            </button>
          </div>
      </form>
    </div>
    <div style="padding-top: 10px" class="text-editor-container">
      <app-text-editor [isLoading]="isLoading" [markdownText]="markdown"></app-text-editor>
    </div>
  </mat-card-content>
</mat-card>
